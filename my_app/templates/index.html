{% from 'field-macro.html' import displayField %}
{% extends "prelogin-layout.html" %}

{% block title %}Register {% endblock %}

{% block content %}
    <h2>Register!</h2>
    <p>Enter your information </p>

<div class="container">
  <div class="row">
    <div class="col">
      <form action="{{ url_for('register') }}", id="form" method="POST">
        {{ displayField(form.username, 'Username', id="username", autocomplete="off", autofocus=true) }}
        {{ displayField(form.password, 'Password', id="password", autocomplete="off") }}
         {{ displayField(form.confirm_pswd, 'confirm Password', id="conf_password", autocomplete="off") }}
           <div class="form-group">
          <input type="text" id="commonName" placeholder="common name" name="commonName" class="form-control">
           </div>
           <div class="form-group">
          <input type="text" id="countryName" placeholder="country Name" name="countryName" class="form-control">
           </div>
            <div class="form-group">
                    <input type="text" id="ST" placeholder="City" name="ST" class="form-control">
            </div>
          <div class="form-group">
          <input type="text" id="localityName" placeholder="locality Name" name="localityName" class="form-control">
          </div>
            <div class="form-group">
                    <input type="text" id="organizationName" placeholder="organization Name" name="organizationName" class="form-control">
            </div>
          <div class="form-group">
          <input type="text" id="OU" placeholder="OU" name="OU" class="form-control">
          </div>

        <input type="hidden" id="request" name="request" class="request">
        {{ form.csrf_token }}
    </form>
    </div>
    <div class="col">
        <p>generate and download keys</p>
      <div class="form-group">
            <input type="button" id="download" value="download keys" class="btn btn-warning">
        </div>
          <p>generate certificate request</p>
         <div class="form-group">
            <input type="button" id="crq" value="generate certificate" class="btn btn-warning">
        </div>
        <div id="certificateReq">
        </div>
        <div class="form-group">
            <input type="button" id="register" value="Register" class="btn btn-warning">
        </div>
    </div>
  </div>



    <hr>

    <p>Already registered? <a href={{url_for('login')}}>login here</a>.</p>
 <script src="../static/scripts/dist/forge.min.js"></script>
<script src="../static/scripts/Blob.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/node-forge@0.7.0/dist/forge.min.js"></script>
<script type="text/javascript" src="../static/scripts/certif.js?ver<%=DateTime.Now.Ticks.ToString()%"></script>
{% endblock %}


